<div
  class="container-fluid d-flex align-items-center justify-content-center contenedor-listado"
>
  <div class="col-12 col-md-10">
    <div class="card text-center my-3">
      <div class="card-header titulos">Incidencias</div>
      <div class="card-body">
        <div class="d-flex justify-content-between mb-2 flex-wrap">
          <h5 class="card-title">Listado de Incidencias</h5>
        </div>

        <div *ngIf="incidencias">
          <h5
            *ngIf="incidencias.length == 0"
            class="mt-3 mb-5 border p-4 w-75 mx-auto"
          >
            No hay datos para mostrar
          </h5>

          <div *ngIf="incidencias.length > 0" class="row">
            <div class="col-12 col-md-2 d-flex flex-wrap">
              <button (click)="descargarPDF()" class="btn btn-danger mt-3 ms-3">
                <i class="fa-regular fa-file-pdf"></i>
              </button>
              <button
                (click)="descargarExcel()"
                class="btn btn-success mt-3 ms-2"
              >
                <i class="fa-regular fa-file-excel"></i>
              </button>
            </div>

            <!-- Tabla Responsive -->
            <div class="col-12">
              <div class="table-responsive">
                <table
                  datatable
                  [dtOptions]="dtOptions"
                  id="tbincidencias"
                  class="table table-striped table-hover table-bordered align-middle"
                >
                  <thead>
                    <tr>
                      <th scope="col">Acciones</th>
                      <th scope="col">Id Incidencia</th>
                      <th scope="col">Asunto</th>
                      <th scope="col">Detalles</th>
                      <th scope="col">Id Técnico</th>
                      <th scope="col">Ubicación</th>
                      <th scope="col">Estado</th>
                      <th scope="col">Fecha de Creación</th>
                      <th scope="col">Fecha de Cierre</th>
                      <th scope="col">Comentario Técnico</th>
                      <th scope="col">Email Enviado</th>
                     <!-- <th scope="col d-md-table-cell">Email Enviado</th>-->
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let elemento of incidencias">
                      <td>
                        <button
                          class="btn btn-sm btn-warning ms-1"
                          data-bs-toggle="tooltip"
                          title="Cambiar estado {{ elemento.id }}"
                          [routerLink]="['/modificaincidencia', 0, elemento.id]"
                        >
                        <i class="fa-solid fa-wrench"></i>
                        </button>
                        <button
                          class="btn btn-sm btn-danger ms-1"
                          data-bs-toggle="tooltip"
                          title="Eliminar {{ elemento.id }}"
                          [routerLink]="['/incidencia', 2, elemento.id]"
                        >
                          <i class="fa-regular fa-trash-can"></i>
                        </button>
                      </td>
                      <th scope="row">{{ elemento.id }}</th>
                      <td>{{ elemento.asunto }}</td>
                      <td>{{ elemento.descripcion }}</td>
                      <td>{{ elemento.idTecnico }}</td>
                      <td>{{ elemento.nombreUbicacion }}</td>
                      <td [ngStyle]="{'background-color': elemento.estado=== 'cerrada' ? 'red' :elemento.estado=== 'resuelto' ? '#03A6A6' : 'white'}">{{ elemento.estado }}</td>
                      <td>{{ elemento.fechaCreacion }}</td>
                      <td>{{ elemento.fechaCierre }}</td>
                      <td>{{ elemento.comentarioTecnico }}</td>
                      <td>{{ elemento.emailEnviado }}</td>
                      <!--<td>{{ elemento.EmailEnviado }}</td>-->
                    </tr>
                  </tbody>
                </table>
              </div>
              <!-- Fin de table-responsive -->
            </div>
          </div>
          <!-- Fin de row -->
        </div>
      </div>
    </div>
  </div>
</div>
